/*! DSFR v1.0.0-rc1.0 | restricted use */
const t=window.dsfr||{core:{}};window.dsfr=t;const e=t.core.ns.selector("table"),i=`${t.core.ns.selector("table")}:not(${t.core.ns.selector("table--no-scroll")})`,s=t.core.ns("table--shadow"),l=t.core.ns("table--shadow-left"),o=t.core.ns("table--shadow-right"),a=t.core.ns("table__wrapper"),h=t.core.ns("table--caption-bottom");class n{constructor(t){this.init(t)}init(t){this.table=t,this.tableElem=this.table.querySelector("table"),this.tableContent=this.tableElem.querySelector("tbody"),this.isScrollable=this.tableContent.offsetWidth>this.tableElem.offsetWidth,this.caption=this.tableElem.querySelector("caption"),this.captionHeight=0,this.wrap();const e=this.change.bind(this);this.tableElem.addEventListener("scroll",e),this.change()}change(){const t=this.tableContent.offsetWidth>this.tableElem.offsetWidth;let e=this.tableElem.offsetWidth>this.table.offsetWidth;t||e?(this.scroll(),this.handleCaption()):t!==this.isScrollable&&this.delete(),this.isScrollable=t,e=!1}delete(){t.core.removeClass(this.table,o),t.core.removeClass(this.table,l),t.core.removeClass(this.table,s),this.caption&&(this.tableElem.style.marginTop="",this.caption.style.top="",this.tableElem.style.marginBottom="",this.caption.style.bottom="")}scroll(){t.core.addClass(this.table,s),this.setShadowPosition()}wrap(){const t=document.createElement("div");t.className=a,this.table.insertBefore(t,this.tableElem),t.appendChild(this.tableElem),this.tableInnerWrapper=t}setShadowPosition(){const t=this.getScrollPosition("left"),e=this.getScrollPosition("right");"rtl"===document.documentElement.getAttribute("dir")?(this.setShadowVisibility("right",t),this.setShadowVisibility("left",e)):(this.setShadowVisibility("left",t),this.setShadowVisibility("right",e))}getScrollPosition(t){let e=1;switch("rtl"===document.documentElement.getAttribute("dir")&&(e=-1),t){case"left":return this.tableElem.scrollLeft*e;case"right":return this.tableContent.offsetWidth-this.tableElem.offsetWidth-this.tableElem.scrollLeft*e;default:return!1}}handleCaption(){if(this.caption){const t=getComputedStyle(this.caption),e=this.caption.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom);this.captionHeight=e,this.table.classList.contains(h)?(this.tableElem.style.marginBottom=this.captionHeight+"px",this.caption.style.bottom=-this.captionHeight+"px"):(this.tableElem.style.marginTop=this.captionHeight+"px",this.caption.style.top=-this.captionHeight+"px")}}setShadowVisibility(e,i){i<=1?"left"===e?t.core.removeClass(this.table,l):"right"===e&&t.core.removeClass(this.table,o):"left"===e?t.core.addClass(this.table,l):"right"===e&&t.core.addClass(this.table,o)}}t.Table=n;const r=[],c=()=>{for(let t=0;t<r.length;t++)r[t].change()};new t.core.Initializer(e,[()=>{const t=document.querySelectorAll(i);for(let e=0;e<t.length;e++)r.push(new n(t[e]));window.addEventListener("resize",c),window.addEventListener("orientationchange",c),c()}]);
//# sourceMappingURL=table.module.min.js.map
