/*! DSFR v1.0.0-rc1.0 | restricted use */
!function(){"use strict";var t=window.dsfr||{core:{}};window.dsfr=t;var e=t.core.ns.selector("table"),i=t.core.ns.selector("table")+":not("+t.core.ns.selector("table--no-scroll")+")",o="left",s="right",l=t.core.ns("table--shadow"),a=t.core.ns("table--shadow-left"),n=t.core.ns("table--shadow-right"),r=t.core.ns("table__wrapper"),h=t.core.ns("table--caption-bottom"),c=function(t){this.init(t)};c.prototype.init=function(t){this.table=t,this.tableElem=this.table.querySelector("table"),this.tableContent=this.tableElem.querySelector("tbody"),this.isScrollable=this.tableContent.offsetWidth>this.tableElem.offsetWidth,this.caption=this.tableElem.querySelector("caption"),this.captionHeight=0,this.wrap();var e=this.change.bind(this);this.tableElem.addEventListener("scroll",e),this.change()},c.prototype.change=function(){var t=this.tableContent.offsetWidth>this.tableElem.offsetWidth,e=this.tableElem.offsetWidth>this.table.offsetWidth;t||e?(this.scroll(),this.handleCaption()):t!==this.isScrollable&&this.delete(),this.isScrollable=t,e=!1},c.prototype.delete=function(){t.core.removeClass(this.table,n),t.core.removeClass(this.table,a),t.core.removeClass(this.table,l),this.caption&&(this.tableElem.style.marginTop="",this.caption.style.top="",this.tableElem.style.marginBottom="",this.caption.style.bottom="")},c.prototype.scroll=function(){t.core.addClass(this.table,l),this.setShadowPosition()},c.prototype.wrap=function(){var t=document.createElement("div");t.className=r,this.table.insertBefore(t,this.tableElem),t.appendChild(this.tableElem),this.tableInnerWrapper=t},c.prototype.setShadowPosition=function(){var t=this.getScrollPosition(o),e=this.getScrollPosition(s);"rtl"===document.documentElement.getAttribute("dir")?(this.setShadowVisibility(s,t),this.setShadowVisibility(o,e)):(this.setShadowVisibility(o,t),this.setShadowVisibility(s,e))},c.prototype.getScrollPosition=function(t){var e=1;switch("rtl"===document.documentElement.getAttribute("dir")&&(e=-1),t){case o:return this.tableElem.scrollLeft*e;case s:return this.tableContent.offsetWidth-this.tableElem.offsetWidth-this.tableElem.scrollLeft*e;default:return!1}},c.prototype.handleCaption=function(){if(this.caption){var t=getComputedStyle(this.caption),e=this.caption.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom);this.captionHeight=e,this.table.classList.contains(h)?(this.tableElem.style.marginBottom=this.captionHeight+"px",this.caption.style.bottom=-this.captionHeight+"px"):(this.tableElem.style.marginTop=this.captionHeight+"px",this.caption.style.top=-this.captionHeight+"px")}},c.prototype.setShadowVisibility=function(e,i){i<=1?e===o?t.core.removeClass(this.table,a):e===s&&t.core.removeClass(this.table,n):e===o?t.core.addClass(this.table,a):e===s&&t.core.addClass(this.table,n)},t.Table=c;var b=[],p=function(){for(var t=0;t<b.length;t++)b[t].change()};new t.core.Initializer(e,[function(){for(var t=document.querySelectorAll(i),e=0;e<t.length;e++)b.push(new c(t[e]));window.addEventListener("resize",p),window.addEventListener("orientationchange",p),p()}])}();
//# sourceMappingURL=table.nomodule.min.js.map
