/*! DSFR v1.0.0-rc1.0 | restricted use */
!function(){"use strict";var t=window.dsfr||{core:{}};window.dsfr=t;var e=function(t){return"fr-"+t};e.selector=function(t,i){return void 0===i&&(i="."),""+i+e(t)},(e.attr=function(t,i,s){return"data-"+e(t)}).selector=function(t,i){var s=e.attr(t);return void 0!==i&&(s+='="'+i+'"'),"["+s+"]"},e.event=function(t){return"dsfr."+t};var i=function(t,e,i){"."===e.charAt(0)&&(e=e.substr(1));var s=t.className.split(" "),n=s.indexOf(e);!0===i?n>-1&&s.splice(n,1):-1===n&&s.push(e),t.className=s.join(" ")},s=function(t,e){return i(t,e)},n=function(t,e){return i(t,e,!0)},r=function(){this.closures=[],this.nexts=[],this.rendering=this.render.bind(this),this.render()};r.prototype.add=function(t){var e=this;this.closures.push(t);return function(){var i=e.closures.indexOf(t);-1!==i&&e.closures.splice(i,1)}},r.prototype.next=function(t,e){e=void 0===e?0:e-1,void 0===this.nexts[e]&&(this.nexts[e]=[]),this.nexts[e].push(t)},r.prototype.render=function(){window.requestAnimationFrame(this.rendering);for(var t=0,e=this.closures;t<e.length;t+=1){e[t].call()}var i=this.nexts.shift();if(i)for(var s=0,n=i;s<n.length;s+=1){n[s].call()}};var o=function(){this.renderer=new r};o.prototype.register=function(t,e){},o.prototype.start=function(){},o.prototype.stop=function(){};var c=new o,u=function(t,e){this.selector=t,this.builders=e,this.instances=[],"loading"!==document.readyState?window.requestAnimationFrame(this.start.bind(this)):document.addEventListener("DOMContentLoaded",this.start.bind(this))};u.prototype.start=function(){if(!(this.instances.length>0)&&document.querySelectorAll(this.selector).length>0)for(var t=0;t<this.builders.length;t++)this.instances.push(this.builders[t]())};var h={},l={},a=0,d=function(t){for(var e in l)if(l[e]===t)return e;var i=++a;return l[i]=t,i},p=function(t,e,i){var s=d(t);h[s]||(h[s]=[]),h[s].push(this),this.element=t,this.id=t.id,this._isRendering=!1,this._isResizing=!1,this.listeners={},this.isResizing=e,this.isRendering=i},f={isRendering:{configurable:!0},isResizing:{configurable:!0}};p.prototype.dispatch=function(t,e){var i=new CustomEvent(t,e);this.element.dispatchEvent(i)},p.prototype.listen=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].indexOf(e)>-1||(this.listeners[t].push(e),this.element.addEventListener(t,e))},p.prototype.unlisten=function(t,e){if(t)if(e){if(!this.listeners[t])return;var i=this.listeners[t].indexOf(e);i>-1&&this.listeners[t].splice(i,1),this.element.removeEventListener(e)}else{if(!this.listeners[t])return;for(var s=0,n=this.listeners[t];s<n.length;s+=1){var r=n[s];this.element.removeEventListener(r)}this.listeners[t].length=0}else for(var o in this.listeners)this.unlisten(o)},f.isRendering.get=function(){return this._isRendering},f.isRendering.set=function(t){this._isRendering!==t&&(this._isRendering=t)},p.prototype.render=function(){},f.isResizing.get=function(){return this._isResizing},f.isResizing.set=function(t){this._isResizing!==t&&(this._isResizing=t)},p.prototype.resize=function(){},p.prototype.destroy=function(){},p.getInstances=function(t,e){var i=d(t);return h[i]?e?h[i].filter((function(t){return t instanceof e})):h[i]:null},Object.defineProperties(p.prototype,f);var g=e.attr("group"),y=[],m=function(t,e){this.id=t,this.element=e,this.members=[],this._index=-1,this._current=null,y.push(this)},v={length:{configurable:!0},index:{configurable:!0},current:{configurable:!0},hasFocus:{configurable:!0}},b={selector:{configurable:!0}};m.getGroupById=function(t){for(var e=0,i=y;e<i.length;e+=1){var s=i[e];if(s.constructor===this&&s.id===t)return s}return new this(t)},m.getGroupByElement=function(t){for(var e=0,i=y;e<i.length;e+=1){var s=i[e];if(s.element===t)return s}return new this(!1,t)},m.groupById=function(t,e){var i=t.element.getAttribute(g);null!==i&&e.getGroupById(i).add(t)},m.groupByParent=function(t,e,i){if(void 0===i&&(i=e.selector),""!==i)for(var s=t.element.parentElement;s;){if(s.classList.contains(t.constructor.selector))return;if(s.classList.contains(i))return void e.getGroupByElement(s).add(t);s=s.parentElement}},b.selector.get=function(){return""},m.prototype.add=function(t){if(-1===this.members.indexOf(t))switch(this.members.push(t),t.setGroup(this),!0){case null!==this.current:case!t.disclosed&&!t.primal:t.disclosed=!1;break;default:this._current=t,this._index=this.members.indexOf(t),t.disclosed=!0}},v.length.get=function(){return this.members.length},v.index.get=function(){return this._index},v.index.set=function(t){t<-1||t>=this.length||this._index===t||(null!==this.current&&this.current.conceal(!0,!0),this._index=t,this._current=this._index>-1?this.members[this._index]:null,null!==this.current&&this.current.disclose(!0),this.apply())},v.current.get=function(){return this._current},v.current.set=function(t){this.index=this.members.indexOf(t)},v.hasFocus.get=function(){return void 0===this.current?null:this.current.hasFocus},m.prototype.apply=function(){},Object.defineProperties(m.prototype,v),Object.defineProperties(m,b);var _=function(t,e){this.element=t,this.disclosure=e,this.hasAttribute=this.element.hasAttribute(this.disclosure.attributeName),this.element.addEventListener("click",this.click.bind(this)),this.observer=new MutationObserver(this.mutate.bind(this)),this.observe()},E={disclosed:{configurable:!0},hasFocus:{configurable:!0}};_.prototype.observe=function(){this.observer.observe(this.element,{attributes:!0})},_.prototype.click=function(t){this.disclosure.change(this.hasAttribute)},_.prototype.mutate=function(t){var e=this;t.forEach((function(t){"attributes"===t.type&&t.attributeName===e.disclosure.attributeName&&e.disclosure.change(e.disclosed)}))},_.prototype.apply=function(t){this.hasAttribute&&(this.observer&&this.observer.disconnect(),this.element.setAttribute(this.disclosure.attributeName,t),this.observer&&this.observe())},E.disclosed.get=function(){return"true"===this.element.getAttribute(this.disclosure.attributeName)},E.hasFocus.get=function(){return this.element===document.activeElement},Object.defineProperties(_.prototype,E);var x=e.event("DISCLOSE"),w=e.event("CONCEAL"),A=[],C=function(t){function i(i){t.call(this,i),this.buttons=[],this._selector=this.constructor.selector,this.modifier=this._selector+"--"+this.type.id,this.attributeName=this.type.ariaState?"aria-"+this.type.id:e.attr(this.type.id),this.pristine=!0;var s=document.querySelectorAll(this.type.ariaControls?'[aria-controls="'+this.id+'"]':e.attr.selector("controls",this.id));if(s.length>0)for(var n=0;n<s.length;n++)this.addButton(s[n]);this.disclosed=!0===this.primal,this.gather()}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={type:{configurable:!0},GroupConstructor:{configurable:!0},disclosed:{configurable:!0},buttonHasFocus:{configurable:!0},hasFocus:{configurable:!0}},o={type:{configurable:!0},selector:{configurable:!0}};return i.prototype.gather=function(){this.group||(m.groupById(this,this.GroupConstructor),m.groupByParent(this,this.GroupConstructor))},i.build=function(t){for(var e=0,i=Array.prototype.slice.call(t.querySelectorAll("."+this.selector));e<i.length;e+=1){var s=i[e];A.push(new this(s))}},r.type.get=function(){return this.constructor.type},o.type.get=function(){return null},o.selector.get=function(){return""},i.prototype.addButton=function(t){var e=this.buttonFactory(t);e.hasAttribute&&(void 0===this.primal?this.primal=e.disclosed:e.apply(this.primal)),this.buttons.push(e)},r.GroupConstructor.get=function(){return m},i.prototype.buttonFactory=function(t){return new _(t,this)},i.prototype.disclose=function(t){return!this.disclosed&&(this.pristine=!1,this.disclosed=!0,t||void 0===this.group||(this.group.current=this),!0)},i.prototype.conceal=function(t,e){if(!this.disclosed)return!1;this.pristine=!1,this.disclosed=!1,e||this.focus(),t||void 0===this.group||(this.group.current=null);for(var i=0,s=A;i<s.length;i+=1){var n=s[i];n!==this&&this.element.contains(n.element)&&n.reset()}return!0},r.disclosed.get=function(){return this._disclosed},r.disclosed.set=function(t){if(this._disclosed!==t){this.dispatch(t?x:w,this.type),this._disclosed=t,t?s(this.element,this.modifier):n(this.element,this.modifier);for(var e=0;e<this.buttons.length;e++)this.buttons[e].apply(t)}},i.prototype.reset=function(){},i.prototype.change=function(t){if(this.constructor.type.canConceal)switch(!0){case!t:case this.disclosed:this.conceal();break;default:this.disclose()}else this.disclose()},i.prototype.setGroup=function(t){this.group=t},r.buttonHasFocus.get=function(){return!!this.buttons.some((function(t){return t.hasFocus}))},r.hasFocus.get=function(){return this.element===document.activeElement||(this.element.querySelectorAll(":focus").length>0||this.buttonHasFocus)},i.prototype.focus=function(){for(var t=0;t<this.buttons.length;t++){var e=this.buttons[t];if(e.hasAttribute)return void e.element.focus()}},Object.defineProperties(i.prototype,r),Object.defineProperties(i,o),i}(p);C.DISCLOSE_EVENT=x,C.CONCEAL_EVENT=w;var O={expand:{id:"expanded",ariaState:!0,ariaControls:!0,canConceal:!0},select:{id:"selected",ariaState:!0,ariaControls:!0,canConceal:!1},opened:{id:"opened",ariaState:!1,ariaControls:!0,canConceal:!0}},L=function(t){this.element=t,this.collections={}};L.prototype._add=function(t,e){void 0===this.collections[t]&&(this.collections[t]=new q(t,this.element)),this.collections[t].add(e)},L.prototype.down=function(t,e,i,s){this._add("down",new P(t,e,i,s))},L.prototype.up=function(t,e,i,s){this._add("up",new P(t,e,i,s))},L.prototype.dispose=function(){for(var t=0,e=this.collections;t<e.length;t+=1){e[t].dispose()}this.types=null};var q=function(t,e){this.type=t,this.element=e,this.actions=[],this.binding=this.handle.bind(this),this.element.addEventListener("key"+t,this.binding)};q.prototype.add=function(t){this.actions.push(t)},q.prototype.handle=function(t){for(var e=0,i=this.actions;e<i.length;e+=1){i[e].handle(t)}},q.prototype.dispose=function(){this.element.removeEventListener("key"+this.type,this.binding),this.actions=null};var P=function(t,e,i,s){this.key=t,this.closure=e,this.preventDefault=!0===i,this.stopPropagation=!0===s};P.prototype.handle=function(t){t.keyCode===this.key&&(this.closure(t),this.preventDefault&&t.preventDefault(),this.stopPropagation&&t.stopPropagation())},L.TAB=9,L.ESCAPE=27,L.END=35,L.HOME=36,L.LEFT=37,L.UP=38,L.RIGHT=39,L.DOWN=40;var R=e("collapse"),S=[],F={},B=function(t){function e(e){t.call(this,e),S.push(this),this.requesting=this.request.bind(this),e.addEventListener("transitionend",this.transitionend.bind(this)),this.disclosed&&this.unbound()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={type:{configurable:!0},selector:{configurable:!0}};return e.prototype.gatherByAscendants=function(){if(!this.group)for(var t in F)for(var e=this.element.parentElement;e;){if(e.classList.contains(t))return void("string"==typeof F[t]?m.groupByParent(this,m,F[t]):m.groupByParent(this,F[t]));e=e.parentElement}},e.prototype.gather=function(){this.gatherByAscendants(),t.prototype.gather.call(this)},i.type.get=function(){return O.expand},i.selector.get=function(){return R},e.register=function(t,e){F[t]=e;for(var i=0,s=S;i<s.length;i+=1){s[i].gatherByAscendants()}},e.prototype.transitionend=function(t){this.disclosed||(this.element.style.maxHeight="")},e.prototype.unbound=function(){this.element.style.maxHeight="none"},e.prototype.disclose=function(e){var i=this;this.disclosed||(this.unbound(),this.adjust(),this.requested=function(){t.prototype.disclose.call(i,e)},window.requestAnimationFrame(this.requesting))},e.prototype.conceal=function(e,i){var s=this;this.disclosed&&(this.adjust(),this.requested=function(){t.prototype.conceal.call(s,e,i)},window.requestAnimationFrame(this.requesting))},e.prototype.request=function(){this.requested&&this.requested(),this.requested=null},e.prototype.adjust=function(){this.element.style.setProperty("--collapser","none");var t=this.element.offsetHeight;this.element.style.setProperty("--collapse",-t+"px"),this.element.style.setProperty("--collapser","")},e.prototype.reset=function(){this.pristine||(this.disclosed=!1)},Object.defineProperties(e,i),e}(C),N=function(t,e){this.selector=t,this.group=e,this.elements=this.group.querySelectorAll(this.selector),this.maxWidth=0,this.changing=this.change.bind(this),window.addEventListener("resize",this.changing),window.addEventListener("load",this.changing)};N.prototype.change=function(){this.reset();for(var t=0;t<this.elements.length;t++){var e=this._getWidth(this.elements[t]);e>this.maxWidth&&(this.maxWidth=e)}this.apply()},N.prototype.apply=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].style.width=this.maxWidth+1+"px"},N.prototype.reset=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].style.width="auto";this.maxWidth=0},N.prototype._getWidth=function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+=parseInt(i.marginLeft)+parseInt(i.marginRight)},t.core.ns=e,t.core.addClass=s,t.core.removeClass=n,t.core.engine=c,t.core.Instance=p,t.core.Initializer=u,t.core.Disclosure=C,t.core.DisclosureButton=_,t.core.DisclosuresGroup=m,t.core.DISCLOSURE_TYPES=O,t.KeyListener=L,t.Collapse=B,t.Equisized=N;new u("."+R,[function(){B.build(document)}])}();
//# sourceMappingURL=core.nomodule.min.js.map
