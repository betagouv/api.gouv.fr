{"version":3,"file":"header.nomodule.js","sources":["../../src/core/generated/scripts/config.js","../../src/core/api.js","../../src/header/scripts/header/constants.js","../../src/header/scripts/header/header.js","../../src/header/index.js","../../src/header/scripts/header/build.js","../../src/header/scripts/module.js"],"sourcesContent":["export const prefix = 'fr';\r\nexport const namespace = 'dsfr';\r\nexport const organisation = '@gouvfr';\r\n","import { namespace } from './generated/scripts/config.js';\n\nconst api = window[namespace] || { core: {} };\nwindow[namespace] = api;\nexport default api;\n","import api from '../../api.js';\n\nexport const HEADER_SELECTOR = api.core.ns.selector('header');\nexport const HEADER_SEARCH_SELECTOR = api.core.ns.selector('header__search');\nexport const HEADER_MENU_SELECTOR = api.core.ns.selector('header__menu');\nexport const HEADER_TOOLS_LINKS_SELECTOR = api.core.ns.selector('header__tools-links');\nexport const HEADER_MENU_LINKS_SELECTOR = api.core.ns.selector('header__menu-links');\nexport const HEADER_LINKS_GROUP_SELECTOR = `${HEADER_TOOLS_LINKS_SELECTOR} ${api.core.ns.selector('links-group')}`;\n","import api from '../../api.js';\nimport {\n  HEADER_MENU_SELECTOR,\n  HEADER_SEARCH_SELECTOR,\n  HEADER_SELECTOR,\n  HEADER_LINKS_GROUP_SELECTOR,\n  HEADER_TOOLS_LINKS_SELECTOR,\n  HEADER_MENU_LINKS_SELECTOR\n} from './constants';\n\nclass Header {\n  constructor (header) {\n    this.header = header || document.querySelector(HEADER_SELECTOR);\n    this.modals = [];\n\n    this.init();\n  }\n\n  getModal (selector) {\n    const element = this.header.querySelector(selector);\n    if (!element) return;\n    const modals = api.core.Instance.getInstances(element, api.Modal);\n    if (!modals || !modals.length) return;\n    this.modals.push(modals[0]);\n  }\n\n  init () {\n    this.getModal(HEADER_SEARCH_SELECTOR);\n    this.getModal(HEADER_MENU_SELECTOR);\n\n    this.linksGroup = this.header.querySelector(HEADER_LINKS_GROUP_SELECTOR);\n\n    this.toolsLinks = this.header.querySelector(HEADER_TOOLS_LINKS_SELECTOR);\n    this.menuLinks = this.header.querySelector(HEADER_MENU_LINKS_SELECTOR);\n\n    this.changing = this.change.bind(this);\n\n    window.addEventListener('resize', this.changing);\n    this.change();\n  }\n\n  change () {\n    this.isLarge = window.matchMedia('(min-width: 62em)').matches;\n\n    if (this.isLarge) {\n      for (let i = 0; i < this.modals.length; i++) {\n        this.modals[i].conceal();\n        this.modals[i].element.removeAttribute('role');\n      }\n    } else {\n      for (let i = 0; i < this.modals.length; i++) {\n        this.modals[i].element.setAttribute('role', 'dialog');\n      }\n    }\n\n    if (this.linksGroup !== null) {\n      if (this.isLarge) this.toolsLinks.appendChild(this.linksGroup);\n      else this.menuLinks.appendChild(this.linksGroup);\n    }\n  }\n}\n\nexport { Header };\n","import api from './api.js';\nimport { Header } from './scripts/header/header';\n\napi.Header = Header;\n","import { Header } from './header.js';\nimport { HEADER_SELECTOR } from './constants';\n\nconst build = () => {\n  const elements = Array.prototype.slice.call(document.querySelectorAll(HEADER_SELECTOR));\n\n  const headers = [];\n\n  for (const element of elements) headers.push(new Header(element));\n};\n\nexport { build };\n","/* eslint-disable no-new */\nimport api from '../api.js';\nimport { HEADER_SELECTOR } from './header/constants.js';\nimport { build } from './header/build.js';\n\nnew api.core.Initializer(HEADER_SELECTOR, [build]);\n"],"names":["const","let","i"],"mappings":"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"}