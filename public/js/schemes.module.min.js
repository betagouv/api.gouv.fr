/*! DSFR v1.0.0-rc1.0 | restricted use */
const t=window.dsfr||{core:{}};window.dsfr=t;const e=t.core.ns.attr("theme"),s=t.core.ns.attr("transition");class i{constructor(){this.init()}init(){if(this.root=document.documentElement,this.scheme=localStorage.getItem("scheme")?localStorage.getItem("scheme"):null,null===this.scheme){const t=this.root.getAttribute(e);"dark"===t||"light"===t?this.scheme=t:window.matchMedia("(prefers-color-scheme: dark)").matches?(this.scheme="dark",localStorage.setItem("scheme","dark")):this.scheme="light"}"dark"===this.scheme?this.root.hasAttribute(s)?(this.root.removeAttribute(s),this.root.setAttribute(e,"dark"),setTimeout((()=>{this.root.setAttribute(s,"")}),300)):this.root.setAttribute(e,"dark"):this.root.setAttribute(e,"light"),this.observer=new MutationObserver(this.mutate.bind(this)),this.observer.observe(this.root,{attributes:!0})}mutate(t){t.forEach((t=>{if("attributes"===t.type&&t.attributeName===e){const t=this.root.getAttribute(e);"dark"===t?localStorage.setItem("scheme","dark"):"light"===t&&localStorage.setItem("scheme","light")}}))}}t.Scheme=i;const r=`input[name="${t.core.ns.selector("radios-theme","")}"]`,o=t.core.ns.selector("switch-theme","#"),h=t.core.ns.attr("theme");class a{constructor(){this.attributeName=h,this.theme=null,this.radios=document.querySelectorAll(r);for(var t=0;t<this.radios.length;t++)this.radios[t].addEventListener("change",this.change.bind(this));this.observer=new MutationObserver(this.mutate.bind(this)),this.observe(),this.apply()}observe(){this.observer.observe(document.documentElement,{attributes:!0})}mutate(t){t.forEach((t=>{"attributes"===t.type&&t.attributeName===this.attributeName&&this.apply()}))}apply(){const t=document.documentElement.getAttribute(this.attributeName);this.isApplying=!0;for(var e=0;e<this.radios.length;e++)this.radios[e].checked=this.radios[e].value===t;this.isApplying=!1}change(){this.isApplying||(this.observer&&this.observer.disconnect(),this.theme=document.querySelector(r+":checked"),this.theme?document.documentElement.setAttribute(this.attributeName,this.theme.value):document.documentElement.removeAttribute(this.attributeName),this.observer&&this.observe())}}new t.core.Initializer(`:root[${e}]`,[()=>{new i}]),new t.core.Initializer(`${o}`,[()=>{new a}]);
//# sourceMappingURL=schemes.module.min.js.map
